{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Matt/Documents/Programming Practice/Raptor Maps/tech-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Matt/Documents/Programming Practice/Raptor Maps/tech-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:/Users/Matt/Documents/Programming Practice/Raptor Maps/tech-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/Matt/Documents/Programming Practice/Raptor Maps/tech-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/Matt/Documents/Programming Practice/Raptor Maps/tech-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/Matt/Documents/Programming Practice/Raptor Maps/tech-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Matt\\\\Documents\\\\Programming Practice\\\\Raptor Maps\\\\tech-tracker\\\\src\\\\index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl-csp';\nimport MapboxWorker from 'worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nmapboxgl.workerClass = MapboxWorker;\nmapboxgl.accessToken = 'pk.eyJ1IjoidHJtYXR0ayIsImEiOiJja210dGd2cjYwdXRzMnhzOTN1MDRsYnI2In0.OdQglh6qpMq-QQOm12p8Ng';\nvar input = {\n  \"features\": [{\n    \"type\": \"Feature\",\n    \"properties\": {\n      \"id\": 0,\n      \"name\": \"Tech 3\",\n      \"tsecs\": 1592078400,\n      \"bearing\": 0\n    },\n    \"geometry\": {\n      \"type\": \"Point\",\n      \"coordinates\": [-115.606391900599817, 32.673693943392962]\n    }\n  }, {\n    \"type\": \"Feature\",\n    \"properties\": {\n      \"id\": 0,\n      \"name\": \"Tech 1\",\n      \"bearing\": 87.0,\n      \"tsecs\": 1592078400\n    },\n    \"geometry\": {\n      \"type\": \"Point\",\n      \"coordinates\": [-115.585908073767968, 32.679083641964432]\n    }\n  }, {\n    \"type\": \"Feature\",\n    \"properties\": {\n      \"id\": 0,\n      \"name\": \"Tech 2\",\n      \"bearing\": 270,\n      \"tsecs\": 1592078400\n    },\n    \"geometry\": {\n      \"type\": \"Point\",\n      \"coordinates\": [-115.590876702138573, 32.676567128293193]\n    }\n  }]\n};\nvar data = input.features;\n\nvar FetchLocationData = /*#__PURE__*/function (_React$Component) {\n  _inherits(FetchLocationData, _React$Component);\n\n  var _super = _createSuper(FetchLocationData);\n\n  function FetchLocationData() {\n    var _this;\n\n    _classCallCheck(this, FetchLocationData);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      loading: true\n    };\n    return _this;\n  }\n\n  _createClass(FetchLocationData, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var url, response, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                url = \"../../api_technician_response_data.json\"; // replace with API url\n\n                _context.next = 3;\n                return fetch(url);\n\n              case 3:\n                response = _context.sent;\n                _context.next = 6;\n                return response.json();\n\n              case 6:\n                data = _context.sent;\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 31\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"person...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return FetchLocationData;\n}(React.Component);\n\nvar Map = /*#__PURE__*/function (_React$Component2) {\n  _inherits(Map, _React$Component2);\n\n  var _super2 = _createSuper(Map);\n\n  // class for the map\n  function Map(props) {\n    var _this2;\n\n    _classCallCheck(this, Map);\n\n    _this2 = _super2.call(this, props);\n    _this2.state = {\n      lng: -115.61,\n      // starting coordinates\n      lat: 32.67,\n      zoom: 12\n    };\n    _this2.mapContainer = /*#__PURE__*/React.createRef();\n    return _this2;\n  }\n\n  _createClass(Map, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          lng = _this$state.lng,\n          lat = _this$state.lat,\n          zoom = _this$state.zoom;\n      var map = new mapboxgl.Map({\n        container: this.mapContainer.current,\n        style: 'mapbox://styles/mapbox/streets-v11',\n        center: [lng, lat],\n        zoom: zoom\n      });\n      data.forEach(function (technician) {\n        var el = document.createElement('div');\n        el.className = 'marker';\n        new mapboxgl.Marker(el).setLngLat(technician.geometry.coordinates) // position\n        .setRotation(technician.properties.bearing) // bearing\n        .setPopup(new mapboxgl.Popup({\n          offset: 25\n        }).setHTML('<h5>' + technician.properties.name + '</h5>')).addTo(map);\n      });\n      map.on('move', function () {\n        _this3.setState({\n          lng: map.getCenter().lng.toFixed(4),\n          lat: map.getCenter().lat.toFixed(4),\n          zoom: map.getZoom().toFixed(2)\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          lng = _this$state2.lng,\n          lat = _this$state2.lat,\n          zoom = _this$state2.zoom;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar\",\n          children: [\"Longitude: \", lng, \" | Latitude: \", lat, \" | Zoom: \", zoom]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"poll-button\",\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: this.mapContainer,\n          className: \"map-container\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return Map;\n}(React.Component); // ===========================================\n\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(Map, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 99,\n  columnNumber: 3\n}, this), document.getElementById('app'));","map":{"version":3,"sources":["C:/Users/Matt/Documents/Programming Practice/Raptor Maps/tech-tracker/src/index.js"],"names":["React","ReactDOM","mapboxgl","MapboxWorker","workerClass","accessToken","input","data","features","FetchLocationData","state","loading","url","fetch","response","json","Component","Map","props","lng","lat","zoom","mapContainer","createRef","map","container","current","style","center","forEach","technician","el","document","createElement","className","Marker","setLngLat","geometry","coordinates","setRotation","properties","bearing","setPopup","Popup","offset","setHTML","name","addTo","on","setState","getCenter","toFixed","getZoom","render","getElementById"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,QAAP,MAAqB,8BAArB;AACA,OAAOC,YAAP,MAAyB,mDAAzB;;AAEAD,QAAQ,CAACE,WAAT,GAAuBD,YAAvB;AACAD,QAAQ,CAACG,WAAT,GAAuB,2FAAvB;AAEA,IAAIC,KAAK,GAAG;AACR,cAAY,CACf;AAAE,YAAQ,SAAV;AAAqB,kBAAc;AAAE,YAAM,CAAR;AAAY,cAAQ,QAApB;AAA8B,eAAS,UAAvC;AAAmD,iBAAW;AAA9D,KAAnC;AAAsG,gBAAY;AAAE,cAAQ,OAAV;AAAmB,qBAAe,CAAE,CAAC,mBAAH,EAAwB,kBAAxB;AAAlC;AAAlH,GADe,EAEf;AAAE,YAAQ,SAAV;AAAqB,kBAAc;AAAG,YAAM,CAAT;AAAa,cAAQ,QAArB;AAA+B,iBAAW,IAA1C;AAAgD,eAAS;AAAzD,KAAnC;AAA2G,gBAAY;AAAE,cAAQ,OAAV;AAAmB,qBAAe,CAAE,CAAC,mBAAH,EAAwB,kBAAxB;AAAlC;AAAvH,GAFe,EAGf;AAAE,YAAQ,SAAV;AAAqB,kBAAc;AAAE,YAAM,CAAR;AAAa,cAAQ,QAArB;AAA+B,iBAAW,GAA1C;AAA+C,eAAS;AAAxD,KAAnC;AAAyG,gBAAY;AAAE,cAAQ,OAAV;AAAmB,qBAAe,CAAE,CAAC,mBAAH,EAAwB,kBAAxB;AAAlC;AAArH,GAHe;AADJ,CAAZ;AAQA,IAAIC,IAAI,GAAGD,KAAK,CAACE,QAAjB;;IAEMC,iB;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,OAAO,EAAE;AADH,K;;;;;;;wFAIR;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,gBAAAA,GADR,GACc,yCADd,EACyD;;AADzD;AAAA,uBAEuBC,KAAK,CAACD,GAAD,CAF5B;;AAAA;AAEME,gBAAAA,QAFN;AAAA;AAAA,uBAGmBA,QAAQ,CAACC,IAAT,EAHnB;;AAAA;AAGMR,gBAAAA,IAHN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;WAMA,kBAAS;AACP,0BACE;AAAA,kBACG,KAAKG,KAAL,CAAWC,OAAX,gBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAArB,gBAA6C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADhD;AAAA;AAAA;AAAA;AAAA,cADF;AAKD;;;;EAjB6BX,KAAK,CAACgB,S;;IAoBhCC,G;;;;;AAA8B;AAClC,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,gCAAMA,KAAN;AACA,WAAKR,KAAL,GAAa;AACXS,MAAAA,GAAG,EAAE,CAAC,MADK;AACG;AACdC,MAAAA,GAAG,EAAE,KAFM;AAGXC,MAAAA,IAAI,EAAE;AAHK,KAAb;AAKA,WAAKC,YAAL,gBAAoBtB,KAAK,CAACuB,SAAN,EAApB;AAPiB;AAQlB;;;;WAED,6BAAoB;AAAA;;AAAA,wBACO,KAAKb,KADZ;AAAA,UACXS,GADW,eACXA,GADW;AAAA,UACNC,GADM,eACNA,GADM;AAAA,UACDC,IADC,eACDA,IADC;AAElB,UAAMG,GAAG,GAAG,IAAItB,QAAQ,CAACe,GAAb,CAAiB;AAC3BQ,QAAAA,SAAS,EAAE,KAAKH,YAAL,CAAkBI,OADF;AAE3BC,QAAAA,KAAK,EAAE,oCAFoB;AAG3BC,QAAAA,MAAM,EAAE,CAACT,GAAD,EAAMC,GAAN,CAHmB;AAI3BC,QAAAA,IAAI,EAAEA;AAJqB,OAAjB,CAAZ;AAOAd,MAAAA,IAAI,CAACsB,OAAL,CAAa,UAASC,UAAT,EAAqB;AAChC,YAAIC,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAT;AACAF,QAAAA,EAAE,CAACG,SAAH,GAAe,QAAf;AAEA,YAAIhC,QAAQ,CAACiC,MAAb,CAAoBJ,EAApB,EACGK,SADH,CACaN,UAAU,CAACO,QAAX,CAAoBC,WADjC,EAC8C;AAD9C,SAEGC,WAFH,CAEeT,UAAU,CAACU,UAAX,CAAsBC,OAFrC,EAE8C;AAF9C,SAGGC,QAHH,CAGY,IAAIxC,QAAQ,CAACyC,KAAb,CAAmB;AAACC,UAAAA,MAAM,EAAE;AAAT,SAAnB,EACTC,OADS,CACD,SAASf,UAAU,CAACU,UAAX,CAAsBM,IAA/B,GAAsC,OADrC,CAHZ,EAKGC,KALH,CAKSvB,GALT;AAMD,OAVD;AAYAA,MAAAA,GAAG,CAACwB,EAAJ,CAAO,MAAP,EAAe,YAAM;AACnB,QAAA,MAAI,CAACC,QAAL,CAAc;AACZ9B,UAAAA,GAAG,EAAEK,GAAG,CAAC0B,SAAJ,GAAgB/B,GAAhB,CAAoBgC,OAApB,CAA4B,CAA5B,CADO;AAEZ/B,UAAAA,GAAG,EAAEI,GAAG,CAAC0B,SAAJ,GAAgB9B,GAAhB,CAAoB+B,OAApB,CAA4B,CAA5B,CAFO;AAGZ9B,UAAAA,IAAI,EAAEG,GAAG,CAAC4B,OAAJ,GAAcD,OAAd,CAAsB,CAAtB;AAHM,SAAd;AAKD,OAND;AAOD;;;WAED,kBAAS;AAAA,yBACkB,KAAKzC,KADvB;AAAA,UACAS,GADA,gBACAA,GADA;AAAA,UACKC,GADL,gBACKA,GADL;AAAA,UACUC,IADV,gBACUA,IADV;AAEP,0BACE;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA,oCACcF,GADd,mBACgCC,GADhC,eAC8CC,IAD9C;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,eAOE;AAAK,UAAA,GAAG,EAAE,KAAKC,YAAf;AAA6B,UAAA,SAAS,EAAC;AAAvC;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAWD;;;;EAtDetB,KAAK,CAACgB,S,GAyDxB;;;AAEAf,QAAQ,CAACoD,MAAT,eACE,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,QADF,EAEErB,QAAQ,CAACsB,cAAT,CAAwB,KAAxB,CAFF","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl-csp';\nimport MapboxWorker from 'worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker';\n\nmapboxgl.workerClass = MapboxWorker;\nmapboxgl.accessToken = 'pk.eyJ1IjoidHJtYXR0ayIsImEiOiJja210dGd2cjYwdXRzMnhzOTN1MDRsYnI2In0.OdQglh6qpMq-QQOm12p8Ng';\n\nvar input = {\n    \"features\": [\n\t{ \"type\": \"Feature\", \"properties\": { \"id\": 0,  \"name\": \"Tech 3\", \"tsecs\": 1592078400, \"bearing\": 0 }, \"geometry\": { \"type\": \"Point\", \"coordinates\": [ -115.606391900599817, 32.673693943392962 ] } },\n\t{ \"type\": \"Feature\", \"properties\": {  \"id\": 0,  \"name\": \"Tech 1\", \"bearing\": 87.0, \"tsecs\": 1592078400  }, \"geometry\": { \"type\": \"Point\", \"coordinates\": [ -115.585908073767968, 32.679083641964432 ] } },\n\t{ \"type\": \"Feature\", \"properties\": { \"id\": 0,   \"name\": \"Tech 2\", \"bearing\": 270, \"tsecs\": 1592078400 }, \"geometry\": { \"type\": \"Point\", \"coordinates\": [ -115.590876702138573, 32.676567128293193 ] } }\n    ]\n}\n\nvar data = input.features\n\nclass FetchLocationData extends React.Component { // class for api calls\n  state = {\n    loading: true\n  }\n\n  async componentDidMount() {\n    const url = \"../../api_technician_response_data.json\"; // replace with API url\n    var response = await fetch(url);\n    var data = await response.json();\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.loading ? <div>loading...</div> : <div>person...</div>}\n      </div>\n    );\n  }\n}\n\nclass Map extends React.Component { // class for the map\n  constructor(props) {\n    super(props);\n    this.state = {\n      lng: -115.61, // starting coordinates\n      lat: 32.67,\n      zoom: 12\n    };\n    this.mapContainer = React.createRef();\n  }\n\n  componentDidMount() {\n    const {lng, lat, zoom} = this.state;\n    const map = new mapboxgl.Map({\n      container: this.mapContainer.current,\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [lng, lat],\n      zoom: zoom\n    });\n\n    data.forEach(function(technician) {\n      var el = document.createElement('div');\n      el.className = 'marker';\n\n      new mapboxgl.Marker(el)\n        .setLngLat(technician.geometry.coordinates) // position\n        .setRotation(technician.properties.bearing) // bearing\n        .setPopup(new mapboxgl.Popup({offset: 25})\n        .setHTML('<h5>' + technician.properties.name + '</h5>'))\n        .addTo(map);\n    });\n\n    map.on('move', () => {\n      this.setState({\n        lng: map.getCenter().lng.toFixed(4),\n        lat: map.getCenter().lat.toFixed(4),\n        zoom: map.getZoom().toFixed(2)\n      });\n    });\n  }\n\n  render() {\n    const {lng, lat, zoom} = this.state;\n    return (\n      <div>\n        <div className=\"sidebar\">\n          Longitude: {lng} | Latitude: {lat} | Zoom: {zoom}\n        </div>\n        <div className=\"poll-button\">\n          Update\n        </div>\n        <div ref={this.mapContainer} className=\"map-container\" />\n        </div>\n    );\n  }\n}\n\n// ===========================================\n\nReactDOM.render(\n  <Map />,\n  document.getElementById('app')\n);\n"]},"metadata":{},"sourceType":"module"}